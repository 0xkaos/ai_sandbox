{
  "id": "7d79345b-d01d-4384-a3fd-599f7a6ba3d3",
  "prevId": "61bd5ecf-ea1c-4a92-bfc4-afe51a42033e",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.chats": {
      "name": "chats",
      "schema": "",
      "columns": {
        "id": { "name": "id", "type": "text", "primaryKey": true, "notNull": true },
        "user_id": { "name": "user_id", "type": "text", "primaryKey": false, "notNull": true },
        "title": { "name": "title", "type": "text", "primaryKey": false, "notNull": true },
        "provider": { "name": "provider", "type": "text", "primaryKey": false, "notNull": true, "default": "'openai'" },
        "model": { "name": "model", "type": "text", "primaryKey": false, "notNull": true, "default": "'gpt-4o'" },
        "created_at": { "name": "created_at", "type": "timestamp", "primaryKey": false, "notNull": true, "default": "now()" },
        "updated_at": { "name": "updated_at", "type": "timestamp", "primaryKey": false, "notNull": true, "default": "now()" }
      },
      "indexes": {},
      "foreignKeys": {
        "chats_user_id_users_id_fk": {
          "name": "chats_user_id_users_id_fk",
          "tableFrom": "chats",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": { "name": "id", "type": "text", "primaryKey": true, "notNull": true },
        "chat_id": { "name": "chat_id", "type": "text", "primaryKey": false, "notNull": true },
        "role": { "name": "role", "type": "text", "primaryKey": false, "notNull": true },
        "content": { "name": "content", "type": "text", "primaryKey": false, "notNull": true },
        "tool_invocations": { "name": "tool_invocations", "type": "jsonb", "primaryKey": false, "notNull": false },
        "created_at": { "name": "created_at", "type": "timestamp", "primaryKey": false, "notNull": true, "default": "now()" }
      },
      "indexes": {},
      "foreignKeys": {
        "messages_chat_id_chats_id_fk": {
          "name": "messages_chat_id_chats_id_fk",
          "tableFrom": "messages",
          "tableTo": "chats",
          "columnsFrom": ["chat_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": { "name": "id", "type": "text", "primaryKey": true, "notNull": true },
        "email": { "name": "email", "type": "text", "primaryKey": false, "notNull": true },
        "name": { "name": "name", "type": "text", "primaryKey": false, "notNull": false },
        "created_at": { "name": "created_at", "type": "timestamp", "primaryKey": false, "notNull": true, "default": "now()" },
        "google_access_token": { "name": "google_access_token", "type": "text", "primaryKey": false, "notNull": false },
        "google_refresh_token": { "name": "google_refresh_token", "type": "text", "primaryKey": false, "notNull": false },
        "google_token_expires_at": { "name": "google_token_expires_at", "type": "timestamp", "primaryKey": false, "notNull": false },
        "google_scopes": { "name": "google_scopes", "type": "text", "primaryKey": false, "notNull": false }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": ["email"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.videos": {
      "name": "videos",
      "schema": "",
      "columns": {
        "id": { "name": "id", "type": "text", "primaryKey": true, "notNull": true },
        "chat_id": { "name": "chat_id", "type": "text", "primaryKey": false, "notNull": true },
        "user_id": { "name": "user_id", "type": "text", "primaryKey": false, "notNull": true },
        "source_url": { "name": "source_url", "type": "text", "primaryKey": false, "notNull": true },
        "content_type": { "name": "content_type", "type": "text", "primaryKey": false, "notNull": false },
        "size_bytes": { "name": "size_bytes", "type": "integer", "primaryKey": false, "notNull": false },
        "data": { "name": "data", "type": "bytea", "primaryKey": false, "notNull": true },
        "created_at": { "name": "created_at", "type": "timestamp", "primaryKey": false, "notNull": true, "default": "now()" }
      },
      "indexes": {},
      "foreignKeys": {
        "videos_chat_id_chats_id_fk": {
          "name": "videos_chat_id_chats_id_fk",
          "tableFrom": "videos",
          "tableTo": "chats",
          "columnsFrom": ["chat_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "videos_user_id_users_id_fk": {
          "name": "videos_user_id_users_id_fk",
          "tableFrom": "videos",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
